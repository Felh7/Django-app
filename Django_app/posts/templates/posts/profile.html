{% extends 'feed_page.html' %}
{% load static %}
{% block static_links %}
    <link rel="stylesheet" href="{% static 'posts/css/profile.css' %}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{% static 'posts/js/script.js' %}"></script>
{% endblock %}
{% block feed_body %}
                {% for post_data in timediff_posts %}
                    <div class="post-body">
                        <span>{{ post_data.post.author }}</span> 
                        <span>
                        {% if request.user.is_authenticated and request.user != post_data.post.author %}
                            <script>
                                var csrftoken = '{{ csrf_token }}';
                                var subscribe_ajax_url = "{% url 'posts:subscribe_ajax' %}";
                                var unsubscribe_ajax_url = "{% url 'posts:unsubscribe_ajax' %}";
                                var checksubscription_ajax = "{% url 'posts:checksubscription_ajax' %}";
                             </script>
                            <button class="subscribe-btn">Subscribe</button>
                        {% endif %}
                        </span>
                        <span>
                           {{ post_data.time_diff }}
                        </span>
                    <div>{{ post_data.post.text }}</div>
                    {% if post_data.post.get_file_url %}
                    <div>
                        <img src = "{{ post_data.post.get_file_url }}">
                    </div>
                    {% endif %}
                    </div>
                {% endfor %} 
{% endblock %}